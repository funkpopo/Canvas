# Canvas 项目生产环境配置示例
# 此文件用于生产环境部署（Docker Compose）
# ⚠️ 警告：部署前必须修改所有密码和密钥！

# ===========================================
# 环境标识
# ===========================================
ENVIRONMENT=production

# ===========================================
# 后端配置 (Backend Configuration)
# ===========================================

# 应用端口
BACKEND_PORT=8000
APP_PORT=8000

# JWT密钥（必须修改为随机生成的强密钥！）
# 生成方法: openssl rand -hex 32
SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY_IN_PRODUCTION
JWT_SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY_IN_PRODUCTION
SESSION_SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SESSION_KEY_IN_PRODUCTION

# JWT Token过期时间（分钟）
ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS配置（生产环境域名，多个用逗号分隔）
CORS_ORIGINS=https://your-domain.com

# ===========================================
# 数据库配置 (Database Configuration)
# ===========================================

# 数据库类型
DATABASE_TYPE=mysql

# MySQL配置
DATABASE_HOST=mysql
DATABASE_PORT=3306
DATABASE_NAME=canvas
DATABASE_USER=canvas
DATABASE_PASSWORD=CHANGE_THIS_DATABASE_PASSWORD
MYSQL_ROOT_PASSWORD=CHANGE_THIS_ROOT_PASSWORD

# ===========================================
# Redis配置 (Redis Configuration)
# ===========================================

REDIS_ENABLED=true
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=20
REDIS_POOL_TIMEOUT=30

# ===========================================
# 前端配置 (Frontend Configuration)
# ===========================================

# 前端端口
FRONTEND_PORT=3000

# API基础URL（生产环境外部访问地址）
NEXT_PUBLIC_API_URL=https://your-domain.com/api/

# Next.js内部API代理URL（容器内部通信）
API_URL=http://backend:8000/api/

# ===========================================
# 日志配置 (Logging Configuration)
# ===========================================

LOG_LEVEL=INFO
LOG_FILE=/app/logs/canvas.log

# ===========================================
# 调试与开发配置
# ===========================================

DEBUG=false
AUTO_MIGRATE=true

# ===========================================
# 安全配置 (Security Configuration)
# ===========================================

# 是否强制HTTPS
FORCE_HTTPS=true

# 允许的主机列表（多个用逗号分隔）
ALLOWED_HOSTS=your-domain.com,www.your-domain.com
